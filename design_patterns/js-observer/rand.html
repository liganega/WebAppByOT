<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>옵저버 패턴</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
<table id="displayTable">
    <tr>
        <td>삼성전자: </td><td id="samsung">100</td>
    </tr>
    <tr>
        <td>LG: </td><td id="lg">80</td>
    </tr>
</table>
<script>
    //주식 데이터라고 가정.
    var samsung = $("#samsung"); //주식 데이터가 출력되는 부분.
    var samsungChangeData = 0; //계속 변동되는 주식 값
    var lg = $("#lg");
    var lgChangeData = 0;
    var displayTable = $("#displayTable");

    function addObservers(observer) {
        displayTable.append(
                "<tr>" +
                "</tr>"
        )
    }
    function dataChanged(dataPrint,ChangeData) {
        dataPrint.html(ChangeData);
    }

    setInterval(function() {
        //크롤링 기법을 이용하여 실제 주식 변동 값을 가져와야 하지만, 크롤링 기법을 배우지 않았으므로 난수로 대체
        samsungChangeData = Math.random()*100;
        //실제로는 크롤링 하였을 때, 기존 samsungChangeData와 값이 같을 때만 변경 해 줘도 된다.
        dataChanged(samsung,samsungChangeData);

        //상위와 마찬가지. 크롤링 기법을 배웠으면 난수 생성 부분은 필요 없고, 크롤링된 데이터가 변경 되었을 때 dataChanged 함수를 실행 시켜준다...
        lgChangeData = Math.random()*100;
        dataChanged(lg,lgChangeData);
    }, 3000);

</script>
</body>
</html>